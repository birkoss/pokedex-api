{% extends 'base/base_sidebar.html' %}

{% block content %}

<script type="text/javascript">
	{% if region %}
		var AJAX_FIRST_PAGE = "{% url page_url region 1 %}";
	{% else %}
		var AJAX_FIRST_PAGE = "{% url page_url 1 %}";
	{% endif %}
	var AJAX_SINGLE_OPTION = "{% url 'pokemon_single_options' "0000" %}";
	var AJAX_FILTER = "{% url 'user_filter' %}";
</script>

{% if user.is_authenticated %}
	<script type="text/javascript">
		var AJAX_CSRF_TOKEN = "{{ csrf_token }}";
	</script>

	<div class="modal fade" id="pokemon-modal" tabindex="-1" role="dialog" aria-labelledby="pokemon-options" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="pokemon-options">Options</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				</div>
				<div class="modal-body">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary btn-save">Save</button>
				</div>
			</div>
		</div>
	</div>
{% endif %}

<div class="content-header">
	<div class="container-fluid">
		<h1>{{ page_title }}</h1>
		<h6 class="total-pokemons-status"></h6>
	</div>
</div>

<div class="container-fluid main-pokemons-list{% if 'is_owned' in request.session.hide %} filter-hide-is_owned{% endif %}{% if 'is_shiny' in request.session.hide %} filter-hide-is_shiny{% endif %}{% if 'is_pokeball' in request.session.hide %} filter-hide-is_pokeball{% endif %}{% if 'is_language' in request.session.hide %} filter-hide-is_language{% endif %}{% if 'is_original_trainer' in request.session.hide %} filter-hide-is_original_trainer{% endif %}{% if 'is_iv' in request.session.hide %} filter-hide-is_iv{% endif %}">

	<div class="pokemons-grid">
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="60px" height="60px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
			<circle cx="59.6265" cy="50" fill="#e83a38" r="20">
				<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="-0.5s"></animate>
			</circle>
			<circle cx="40.3735" cy="50" fill="#4c4b49" r="20">
				<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="0s"></animate>
			</circle>
			<circle cx="59.6265" cy="50" fill="#e83a38" r="20">
				<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="-0.5s"></animate>
			<animate attributeName="fill-opacity" values="0;0;1;1" calcMode="discrete" keyTimes="0;0.499;0.5;1" dur="1s" repeatCount="indefinite"></animate>
			</circle>
		</svg>
	</div>

	{% if not user.is_authenticated and paginator.has_other_pages %}
		<div class="page-load-status">
			<p class="infinite-scroll-request">
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="60px" height="60px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
					<circle cx="59.6265" cy="50" fill="#e83a38" r="20">
						<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="-0.5s"></animate>
					</circle>
					<circle cx="40.3735" cy="50" fill="#4c4b49" r="20">
						<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="0s"></animate>
					</circle>
					<circle cx="59.6265" cy="50" fill="#e83a38" r="20">
						<animate attributeName="cx" repeatCount="indefinite" dur="1s" keyTimes="0;0.5;1" values="30;70;30" begin="-0.5s"></animate>
					<animate attributeName="fill-opacity" values="0;0;1;1" calcMode="discrete" keyTimes="0;0.499;0.5;1" dur="1s" repeatCount="indefinite"></animate>
					</circle>
				</svg>
			</p>
			<p class="infinite-scroll-last">End of content</p>
			<p class="infinite-scroll-error">No more pages to load</p>
		</div>
	{% endif %}

</div>
{% endblock %}